<ion-grid *ngIf="edge">
  <ion-row class="ion-justify-content-center">
    <!-- Widgets -->

    <!-- Energymonitor -->
    <ion-col size="12" size-md="8" size-lg="4">
      <energymonitor></energymonitor>
    </ion-col>

    <ion-col *ngIf="widgets" size="12" size-md="8" size-lg="6">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <!-- Regular Widgets -->
          <ng-container *ngFor="let clazz of widgets.classes" [ngSwitch]="clazz">

            <ion-col *ngSwitchCase="'Autarchy'" size="12" size-lg="6">
              <autarchy></autarchy>
            </ion-col>

            <ion-col *ngSwitchCase="'Selfconsumption'" size="12" size-lg="6">
              <selfconsumption></selfconsumption>
            </ion-col>

            <ion-col *ngSwitchCase="'Storage'" size="12" size-lg="6">
              <storage></storage>
            </ion-col>

            <ion-col *ngSwitchCase="'Grid'" size="12" size-lg="6">
              <grid></grid>
            </ion-col>

            <ion-col *ngSwitchCase="'Production'" size="12" size-lg="6">
              <production></production>
            </ion-col>

            <ion-col *ngSwitchCase="'Consumption'" size="12" size-lg="6">
              <consumption></consumption>
            </ion-col>

          </ng-container>

          <!-- Widgets depending on the configuration of the OpenEMS Edge -->
          <ng-container *ngFor="let widget of widgets.list" [ngSwitch]="widget.name">

            <ion-col *ngSwitchCase="'io.openems.edge.evcs.api.Evcs'" size="12">
              <evcs *ngIf="config.components[widget.componentId].factoryId != 'Evcs.Cluster'"
                [componentId]="widget.componentId">
              </evcs>
            </ion-col>

            <ion-col *ngSwitchCase="'Evcs.Cluster'" size="12">
              <evcsCluster [componentId]="widget.componentId"></evcsCluster>
            </ion-col>

            <ion-col *ngSwitchCase="'Controller.Api.ModbusTcp'" size="12">
              <modbusapi [componentId]="widget.componentId"></modbusapi>
            </ion-col>

            <ion-col *ngSwitchCase="'Controller.ChannelThreshold'" size="12" size-lg="6">
              <channelthreshold [componentId]="widget.componentId"></channelthreshold>
            </ion-col>

            <ion-col *ngSwitchCase="'io.openems.impl.controller.channelthreshold.ChannelThresholdController'" size="12"
              size-lg="6">
              <channelthreshold [componentId]="widget.componentId"></channelthreshold>
            </ion-col>

            <ion-col *ngSwitchCase="'Controller.Io.FixDigitalOutput'" size="6">
              <fixdigitaloutput [componentId]="widget.componentId"></fixdigitaloutput>
            </ion-col>

            <ion-col *ngSwitchCase="'Controller.CHP.SoC'" size="6">
              <chpsoc [componentId]="widget.componentId"></chpsoc>
            </ion-col>

          </ng-container>

          <!-- <ion-col size="12" size-lg="12">
            <info></info>
          </ion-col> -->

        </ion-row>
      </ion-grid>
    </ion-col>
  </ion-row>
</ion-grid>